<!-- 110.15.220.164:8380 down.html -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<!-- 동적 레이아웃 meta data -->
<meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1.0, maximum-scale=1.0"/>
<!-- apple ipa 파일 인증용 meta data -->
<meta name="apple-mobile-web-app-capable" content="yes" />
<title>Native Bridge Test</title>
</head>

<script>  
function myFunction() {
  // document.getElementById("demo").innerHTML = "YOU CLICKED ME!";
  try{
  	var message = '{"workStep" : 123, "message":"text111", "function" : '+resultStart+'}';
    var obj = JSON.parse(message);
  	window.webkit.messageHandlers.pedometerStart.postMessage(message);

  }catch(err){
  	alert(err);
  }
}

function myString() {
  // document.getElementById("demo").innerHTML = "YOU CLICKED ME!";
  try{
  	var message = [456, 'text222', 'resultStart'];
  	window.webkit.messageHandlers.pedometerStart.postMessage(message);

  }catch(err){
  	alert(err);
  }
}

function resultStart(resultParam){
  	alert('result - '+resultParam);
  }
</script>

<body>
     <button id="demo" type="button" onclick="myFunction()">function</button>
     <button id="demo" type="button" onclick="myString()">string</button>

</body>
</html>